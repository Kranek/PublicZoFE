####################################
#      Fallen Technologies
#	  	    By Kolyn
####################################

##################
###All the Gates:
##################

#Automated Industries (Gate for all automated FE buildings)
tech_fallen_technologies_1 = {
	area = physics
	cost = @fallentechcost
	tier = @fallentechtier
	category = { field_manipulation }
	weight = 0
	
	potential = { 
		is_zofe_country = yes
		automated_industries = yes
	}
	
	modifier = { 
		station_gatherers_produces_mult = 0.25
		country_resource_max_add = 100000
	}
	
	weight_modifier = {	
		modifier = {
			factor = 0
			NOT = { is_zofe_country = yes }
		}
	}
	
	ai_weight = {
		factor = 10		#Ascension is good!
	}
}

#Societal Ascendance (Gate for all Ethic Unique Society Buildings)
tech_fallen_technologies_2 = {
	area = society
	cost = @fallentechcost
	tier = @fallentechtier
	category = { statecraft }
	weight = 0
	
	potential = { 
		is_zofe_country = yes
		societal_ascendance = yes
	}
	
	modifier = {
		# country_government_civic_points_add = 1
		diplo_weight_mult = 0.25
		country_leader_cap_add = 1
	}

	weight_modifier = {	
		modifier = {
			factor = 0
			NOT = { is_zofe_country = yes }
		}
	}

	ai_weight = {
		factor = 10		#Ascension is good!
	}
}

#A Question of Style (Gate for FE ships)
tech_fallen_technologies_3 = {
	area = engineering
	cost = @fallentechcost
	tier = @fallentechtier
	category = { voidcraft }
	weight = 0
	
	potential = {
		is_zofe_country = yes
		question_of_style = yes
	}
	
	modifier = { country_power_projection_influence_produces_add = 1 }
	
	weight_modifier = {	
		modifier = {
			factor = 0
			NOT = { is_zofe_country = yes }
		}
	}

	ai_weight = {
		factor = 50		#Ascension is good!
	}
}

###Masters of Warfare (Gate for ZoFE Weapons)
tech_fallen_technologies_4 = {
	area = physics
	cost = @fallentechcost
	tier = @fallentechtier
	category = { particles }
	weight = 0
	
	potential = {
		is_zofe_country = yes
		masters_of_warfare = yes
	}
	
	modifier = {
		country_naval_cap_add = 80
		command_limit_add = 20
	}

	weight_modifier = {	
		modifier = {
			factor = 0
			NOT = { is_zofe_country = yes }
		}
	}
	
	ai_weight = {
		factor = 10		#Ascension is good!
	}
}

#Ambitions of Power (Gate for Edicts and Ambitions)
tech_fallen_technologies_5 = {
	area = society
	cost = @fallentechcost
	tier = @fallentechtier
	category = { statecraft }
	weight = 0
	
	potential = {
		is_zofe_country = yes
		ambitions_of_power = yes
	}
	
	modifier = { diplo_weight_mult = 0.15 }

	weight_modifier = {	
		modifier = {
			factor = 0
			NOR = { is_zofe_country = yes  }
		}
	}
	
	ai_weight = {
		factor = 10		#Ascension is good!
	}
}

###Engineering Perfection (Gate for Utopian Worlds)
tech_fallen_technologies_6 = {
	area = engineering
	cost = @fallentechcost
	tier = @fallentechtier
	category = { voidcraft }
	prerequisites = {  }
	weight = 0
	
	potential = {
		is_zofe_country = yes
		engineering_perfection = yes
	}
	
	weight_modifier = {	
		modifier = {
			factor = 0
			NOR = { is_zofe_country = yes  }
		}
	}
	
	modifier = { 
		megastructure_build_speed_mult = 0.25
		planet_building_build_speed_mult = 0.25
	 }
	
	ai_weight = {
		factor = 10		#Ascension is good!
	}
}

########################################################
##Automated Industries - Gated by fallen_technologies_1
########################################################

#Energy Building
tech_fallen_class_4_singularity = {
	cost = @fallentechcost
	area = physics
	tier = @fallentechtier
	category = { field_manipulation }	
	prerequisites = { "tech_power_hub_2" }
	weight = @tier3weight1
	
	potential = { 
		OR = {
			AND = {
				zofe_sandbox = yes
				is_zofe_country = no
				has_crisis_level = crisis_cosmogenesis_level_2
			}
			AND = {
				is_zofe_country = yes
				automated_industries = yes
				has_technology = tech_fallen_technologies_1
			}
		}
	}
	
	weight_modifier = {
		modifier = {
			factor = 10
			OR = {
				has_technology = tech_mine_exotic_gases
				has_technology = tech_exotic_gases
			}
		}
		modifier = {
			factor = 2
			has_tradition = tr_prosperity_adopt
		}
	}
	
	ai_weight = {
		factor = 30
	}
}

#Mineral Building
tech_fallen_dimensional_fabricator = {
	cost = @fallentechcost
	area = engineering
	tier = @fallentechtier
	category = { industry }	
	prerequisites = { "tech_mineral_purification_2" }
	weight = @tier3weight1
	
	potential = {
		OR = {
			AND = {
				zofe_sandbox = yes
				is_zofe_country = no
				has_crisis_level = crisis_cosmogenesis_level_2
			}
			AND = {
				is_zofe_country = yes
				automated_industries = yes
				has_technology = tech_fallen_technologies_1
			}
		}
	}
	
	weight_modifier = {
		factor = 2
	}
	
	ai_weight = {
		factor = 30
	}
}

#Food Building
tech_fallen_nourishment_center = {
	cost = @fallentechcost
	area = society
	tier = @fallentechtier
	category = { biology }	
	prerequisites = { "tech_food_processing_2" }
	weight = @tier3weight1
	
	potential = { 
		OR = {
			AND = {
				zofe_sandbox = yes
				is_zofe_country = no
				has_crisis_level = crisis_cosmogenesis_level_2
			}
			AND = {
				is_zofe_country = yes
				automated_industries = yes
				has_technology = tech_fallen_technologies_1
			}
		}
	}
	
	weight_modifier = {
		factor = 2
		modifier = {
			factor = 0.01
			is_machine_empire = yes
			NOR = { 
				has_valid_civic = civic_machine_servitor 
				has_valid_civic = civic_machine_assimilator 	
				any_owned_planet = {
					num_districts = { type = district_farming value > 0 }
				}
			}
		}	
	}
	
	ai_weight = {
		factor = 30
	}
}

##Consumer Goods
tech_fallen_affluence_center = {
	cost = @fallentechcost
	area = engineering
	tier = @fallentechtier
	category = { materials }	
	prerequisites = { "tech_luxuries_2" }
	weight = @tier4weight1

	potential = {
		country_uses_consumer_goods = yes
		OR = {
			AND = {
				zofe_sandbox = yes
				is_zofe_country = no
				has_crisis_level = crisis_cosmogenesis_level_5
			}
			AND = {
				is_zofe_country = yes
				automated_industries = yes
				has_technology = tech_fallen_technologies_1
			}
		}
	}
	
	ai_weight = {
		factor = 30
	}
}

#Alloy
tech_fallen_nano_forge = {
	cost = @fallentechcost
	area = engineering
	tier = @fallentechtier
	category = { materials }	
	prerequisites = { "tech_alloys_2" }
	weight = @tier4weight1
	
	potential = { 
		OR = {
			AND = {
				zofe_sandbox = yes
				is_zofe_country = no
				has_crisis_level = crisis_cosmogenesis_level_5
			}
			AND = {
				is_zofe_country = yes
				automated_industries = yes
				has_technology = tech_fallen_technologies_1
			}
		}
	}
	
	weight_modifier = {
		factor = 2
	}
	
	ai_weight = {
		factor = 30
	}
}

#Housing

tech_fallen_sky_dome = {
	cost = @fallentechcost
	area = society
	tier = @fallentechtier
	category = { statecraft }
	weight = @tier1weight1
	
	potential = {
		OR = {
			AND = {
				zofe_sandbox = yes
				is_zofe_country = no
				has_crisis_level = crisis_cosmogenesis_level_1
			}
			AND = {
				is_zofe_country = yes
				automated_industries = yes
				has_technology = tech_fallen_technologies_1
			}
		}
	}
	
	weight_modifier = {	
		modifier = {
			factor = 10
			OR = {
				has_technology = tech_mine_rare_crystals
				has_technology = tech_rare_crystals
			}
		}
	}
	
	ai_weight = {
		factor = 20
	}
}

#Fortress

tech_fallen_aegis_complex = {
	cost = @fallentechcost
	area = society
	tier = @fallentechtier
	category = { military_theory }
	prerequisites = { "tech_global_defense_grid" }
	weight = @tier2weight1
	
	potential = {
		OR = {
			AND = {
				zofe_sandbox = yes
				is_zofe_country = no
				has_crisis_level = crisis_cosmogenesis_level_3
			}
			AND = {
				is_zofe_country = yes
				automated_industries = yes
				has_technology = tech_fallen_technologies_1
			}
		}
	}

	weight_modifier = {
		factor = 2
		modifier = {
			factor = 2
			is_militarist = yes
		}
	}

	ai_weight = {
		factor = 2
		modifier = {
			factor = 2
			is_militarist = yes
		}
	}
}

#Dark Matter Drawing
tech_fallen_mine_dark_matter = {
	cost = @fallentechcost
	area = physics
	tier = @fallentechtier
	category = { field_manipulation }
	weight = @tier3weight3
	
	potential = {
		is_zofe_country = yes
		automated_industries = yes
	}
	
	prerequisites = { "tech_fallen_technologies_1" }

	weight_modifier = {
		modifier = {
			factor = 0
			is_zofe_country = no
		}
	}

	ai_weight = {
		factor = 10 #strategic resource
	}
}

tech_synthetic_dark_matter = {
	area = physics
	cost = @fallentechcost
	tier = @fallentechtier
	category = { particles }
	is_rare = yes
	weight = @tier5weight1
	
	potential = {
		is_zofe_country = yes
		automated_industries = yes
		has_technology = tech_fallen_technologies_1
	}

	weight_modifier = {
		modifier = {
			factor = 0
			is_zofe_country = no
		}
	}

	ai_weight = {
		factor = 10		#Ascension is good
	}
}

tech_synthetic_living_metal = {
	area = physics
	cost = @fallentechcost
	tier = @fallentechtier
	category = { particles }
	is_rare = yes
	weight = @tier5weight1
	
	potential = {
		is_zofe_country = yes
		automated_industries = yes
	}
	
	prerequisites = { "tech_mine_living_metal" }

	weight_modifier = {
		modifier = {
			factor = 0
			is_zofe_country = no
		}
	}

	ai_weight = {
		factor = 10		#Ascension is good
	}
}

tech_synthetic_zro = {
	area = physics
	cost = @fallentechcost
	tier = @fallentechtier
	category = { particles }
	is_rare = yes
	weight = @tier5weight1
	
	potential = {
		is_zofe_country = yes
		automated_industries = yes
	}
	
	prerequisites = { "tech_fallen_technologies_1" }

	weight_modifier = {
		modifier = {
			factor = 0
			is_zofe_country = no
		}
	}

	ai_weight = {
		factor = 10		#Ascension is good
	}
}

tech_fallen_lab = {
	area = physics
	cost = @fallentechcost
	tier = @fallentechtier
	category = { computing }
	ai_update_type = all
	weight = @tier5weight3

	potential = {
		OR = {
			AND = {
				zofe_sandbox = yes
				is_zofe_country = no
				has_crisis_level = crisis_cosmogenesis_level_5
			}
			AND = {
				is_zofe_country = yes
				automated_industries = yes
				has_technology = tech_fallen_technologies_1
			}
		}
	}

	ai_weight = {
		factor = 10
	}
}

tech_fallen_administration = {
	area = society
	cost = @fallentechcost
	tier = @fallentechtier
	category = { statecraft }
	ai_update_type = all
	weight = @tier5weight3

	potential = {
		OR = {
			AND = {
				zofe_sandbox = yes
				is_zofe_country = no
				has_crisis_level = crisis_cosmogenesis_level_3
			}
			AND = {
				is_zofe_country = yes
				automated_industries = yes
				has_technology = tech_fallen_technologies_1
			}
		}
	}

	# prerequisites = { "tech_fallen_technologies_1" }

	ai_weight = {
		factor = 10
	}
}

tech_fallen_assembly = {
	area = engineering
	cost = @fallentechcost
	tier = @fallentechtier
	category = { industry }
	ai_update_type = all
	weight = @tier5weight3

	potential = {
		NOT = { has_policy_flag = robots_outlawed }
		OR = {
			AND = {
				zofe_sandbox = yes
				is_zofe_country = no
				has_crisis_level = crisis_cosmogenesis_level_4
			}
			AND = {
				is_zofe_country = yes
				automated_industries = yes
				has_technology = tech_fallen_technologies_1
			}
		}
	}

	weight_modifier = {
		modifier = {
			factor = 0
			is_hive_empire = yes
		}
	}

	# prerequisites = { "tech_fallen_technologies_1" }


}

tech_fallen_clinic = {
	area = society
	cost = @fallentechcost
	tier = @fallentechtier
	category = { biology }
	ai_update_type = all
	weight = @tier5weight3

	potential = {
		OR = {
			AND = {
				zofe_sandbox = yes
				is_zofe_country = no
				has_crisis_level = crisis_cosmogenesis_level_4
			}
			AND = {
				is_zofe_country = yes
				automated_industries = yes
				has_technology = tech_fallen_technologies_1
			}
		}
	}

	weight_modifier = {
		modifier = {
			factor = 0
			is_machine_empire = yes
		}
	}

	# prerequisites = { "tech_fallen_technologies_1" }
}

tech_fallen_clone_vat = {
	area = society
	cost = @fallentechcost
	tier = @fallentechtier
	category = { biology }
	ai_update_type = all
	weight = @tier5weight3

	potential = {
		zofe_sandbox = yes
		OR = {
			AND = {
				is_zofe_country = no
				has_crisis_level = crisis_cosmogenesis_level_4
				has_tradition = tr_genetics_adopt
			}
			AND = {
				is_zofe_country = yes
				automated_industries = yes
				has_technology = tech_fallen_technologies_1
				has_tradition = tr_genetics_adopt
			}
		}
	}

	weight_modifier = {
		modifier = {
			factor = 0
			is_machine_empire = yes
		}
	}

	# prerequisites = { "tech_fallen_technologies_1" }
}

tech_fallen_market = {
	area = society
	cost = @fallentechcost
	tier = @fallentechtier
	category = { statecraft }
	ai_update_type = all
	weight = @tier5weight3

	potential = {
		is_regular_empire = yes
		OR = {
			AND = {
				zofe_sandbox = yes
				is_zofe_country = no
				has_crisis_level = crisis_cosmogenesis_level_3
			}
			AND = {
				is_zofe_country = yes
				automated_industries = yes
				has_technology = tech_fallen_technologies_1
			}
		}
	}

	weight_modifier = {
		modifier = {
			factor = 0
			is_gestalt = yes
		}
	}

	# prerequisites = { "tech_fallen_technologies_1" }
}

tech_fallen_security = { 
	area = society
	cost = @fallentechcost
	tier = @fallentechtier
	category = { statecraft }
	ai_update_type = all
	weight = @tier5weight3

	potential = {
		OR = {
			AND = {
				zofe_sandbox = yes
				is_zofe_country = no
				has_crisis_level = crisis_cosmogenesis_level_1
			}
			AND = {
				is_zofe_country = yes
				automated_industries = yes
				has_technology = tech_fallen_technologies_1
			}
		}
	}

	# prerequisites = { "tech_fallen_technologies_1" }
}

tech_fallen_silo = {
	area = physics
	cost = @fallentechcost
	tier = @fallentechtier
	category = { field_manipulation }
	ai_update_type = all
	weight = @tier5weight3

	potential = {
		OR = {
			AND = {
				zofe_sandbox = yes
				is_zofe_country = no
				has_crisis_level = crisis_cosmogenesis_level_1
			}
			AND = {
				is_zofe_country = yes
				automated_industries = yes
				has_technology = tech_fallen_technologies_1
			}
		}
	}

	# prerequisites = { "tech_fallen_technologies_1" }
}

# #####################################################
# Industries upgrades - Requires fallen_technologies_6
# #####################################################

# Gate
tech_automated_industries_1 = {
	area = engineering
	cost = @ascended_tech_cost
	tier = @ascended_tech_tier
	category = { industry }
	weight = 0
	
	potential = { 
		is_zofe_country = yes
		automated_industries = yes
	}
	
	modifier = { country_resource_max_add = 100000 }
	
	weight_modifier = {	
		modifier = {
			factor = 0
			NOR = { 
				is_zofe_country = yes 
			}
		}
	}
	
	ai_weight = {
		factor = 10		#Ascension is good
	}
}

#Energy Building
tech_fallen_class_5_singularity = {
	cost = @ascended_tech_cost
	area = physics
	tier = @ascended_tech_tier
	category = { field_manipulation }	
	prerequisites = { "tech_fallen_class_4_singularity" }
	weight = @tier3weight1
	
	potential = {
		OR = {
			AND = {
				zofe_sandbox = yes
				is_zofe_country = no
				has_crisis_level = crisis_cosmogenesis_level_2
			}
			AND = {
				is_zofe_country = yes
				automated_industries = yes
				has_technology = tech_automated_industries_1
				has_technology = tech_fallen_technologies_6
			}
		}
	}
	
	weight_modifier = {
		modifier = {
			factor = 10
			OR = {
				has_technology = tech_mine_exotic_gases
				has_technology = tech_exotic_gases
			}
		}
		modifier = {
			factor = 2
			has_tradition = tr_prosperity_adopt
		}
	}
	
	ai_weight = {
		factor = 30
	}
}

#Mineral Building
tech_fallen_dimensional_harvester = {
	cost = @ascended_tech_cost
	area = engineering
	tier = @ascended_tech_tier
	category = { industry }	
	prerequisites = { "tech_fallen_dimensional_fabricator" }
	weight = @tier3weight1
	
	potential = {
		OR = {
			AND = {
				zofe_sandbox = yes
				is_zofe_country = no
				has_crisis_level = crisis_cosmogenesis_level_2
			}
			AND = {
				is_zofe_country = yes
				automated_industries = yes
				has_technology = tech_automated_industries_1
				has_technology = tech_fallen_technologies_6
			}
		}
	}
	
	ai_weight = {
		factor = 30
	}
}

#Food Building
tech_fallen_gourmet_center = {
	cost = @ascended_tech_cost
	area = society
	tier = @ascended_tech_tier
	category = { biology }	
	prerequisites = { "tech_fallen_nourishment_center" }
	weight = @tier3weight1
	
	potential = {
		OR = {
			AND = {
				zofe_sandbox = yes
				is_zofe_country = no
				has_crisis_level = crisis_cosmogenesis_level_2
			}
			AND = {
				is_zofe_country = yes
				automated_industries = yes
				has_technology = tech_automated_industries_1
				has_technology = tech_fallen_technologies_6
			}
		}
	}
	
	weight_modifier = {
		factor = 2
		modifier = {
			factor = 0.01
			is_machine_empire = yes
			NOR = { 
				has_valid_civic = civic_machine_servitor 
				has_valid_civic = civic_machine_assimilator 	
				any_owned_planet = {
					num_districts = { type = district_farming value > 0 }
				}
			}
		}	
	}
	
	ai_weight = {
		factor = 30
	}
}

##Consumer Goods
tech_fallen_opulent_plaza = {
	cost = @ascended_tech_cost
	area = engineering
	tier = @ascended_tech_tier
	category = { materials }	
	prerequisites = { "tech_fallen_affluence_center" }
	weight = @tier4weight1
	
	potential = {
		country_uses_consumer_goods = yes
		OR = {
			AND = {
				zofe_sandbox = yes
				is_zofe_country = no
				has_crisis_level = crisis_cosmogenesis_level_5
			}
			AND = {
				is_zofe_country = yes
				automated_industries = yes
				has_technology = tech_automated_industries_1
				has_technology = tech_fallen_technologies_6
			}
		}
	}
	
	ai_weight = {
		factor = 30
	}
}

#Alloy
tech_fallen_nano_forge_2 = {
	cost = @ascended_tech_cost
	area = engineering
	tier = @ascended_tech_tier
	category = { materials }	
	prerequisites = { "tech_fallen_nano_forge" }
	weight = @tier4weight1
	
	potential = { 
		OR = {
			AND = {
				zofe_sandbox = yes
				is_zofe_country = no
				has_crisis_level = crisis_cosmogenesis_level_5
			}
			AND = {
				is_zofe_country = yes
				automated_industries = yes
				has_technology = tech_automated_industries_1
				has_technology = tech_fallen_technologies_6
			}
		}
	}

	ai_weight = {
		factor = 30
	}
}

#Housing
tech_fallen_sky_dome_2 = {
	area = society
	cost = @ascended_tech_cost
	tier = @ascended_tech_tier
	category = { statecraft }
	ai_update_type = all
	prerequisites = { "tech_fallen_sky_dome" }
	weight = @tier5weight3

	potential = { 
		OR = {
			AND = {
				zofe_sandbox = yes
				is_zofe_country = no
				has_crisis_level = crisis_cosmogenesis_level_1
			}
			AND = {
				is_zofe_country = yes
				automated_industries = yes
				has_technology = tech_automated_industries_1
				has_technology = tech_fallen_technologies_6
			}
		}
	}

	ai_weight = {
		factor = 30
	}
}

#Fortress
tech_fallen_aegis_complex_2 = {
	cost = @ascended_tech_cost
	area = society
	tier = @ascended_tech_tier
	category = { military_theory }
	prerequisites = { "tech_fallen_aegis_complex" }
	weight = @tier2weight1
	
	potential = { 
		OR = {
			AND = {
				zofe_sandbox = yes
				is_zofe_country = no
				has_crisis_level = crisis_cosmogenesis_level_3
			}
			AND = {
				is_zofe_country = yes
				automated_industries = yes
				has_technology = tech_automated_industries_1
				has_technology = tech_fallen_technologies_6
			}
		}
	}

	weight_modifier = {
		factor = 2
		modifier = {
			factor = 2
			is_militarist = yes
		}
	}

	ai_weight = {
		factor = 2
		modifier = {
			factor = 2
			is_militarist = yes
		}
	}
}

tech_synthetic_dark_matter_2 = {
	area = physics
	cost = @ascended_tech_cost
	tier = @ascended_tech_tier
	category = { particles }
	is_rare = yes
	weight = @tier5weight1
	
	potential = {
		is_zofe_country = yes
		automated_industries = yes
		has_technology = tech_automated_industries_1
	}
	
	prerequisites = { "tech_synthetic_dark_matter" }

	ai_weight = {
		factor = 10		#Ascension is good
	}
}

tech_fallen_lab_2 = {
	area = physics
	cost = @ascended_tech_cost
	tier = @ascended_tech_tier
	category = { computing }
	ai_update_type = all
	weight = @tier5weight3

	potential = {
		OR = {
			AND = {
				zofe_sandbox = yes
				is_zofe_country = no
				has_crisis_level = crisis_cosmogenesis_level_5
			}
			AND = {
				is_zofe_country = yes
				automated_industries = yes
				has_technology = tech_automated_industries_1
				has_technology = tech_fallen_technologies_6
			}
		}
	}

	prerequisites = { "tech_fallen_lab" }
}

tech_fallen_administration_2 = {
	area = society
	cost = @ascended_tech_cost
	tier = @ascended_tech_tier
	category = { statecraft }
	ai_update_type = all
	weight = @tier5weight3

	potential = {
		OR = {
			AND = {
				zofe_sandbox = yes
				is_zofe_country = no
				has_crisis_level = crisis_cosmogenesis_level_3
			}
			AND = {
				is_zofe_country = yes
				automated_industries = yes
				has_technology = tech_automated_industries_1
				has_technology = tech_fallen_technologies_6
			}
		}
	}

	prerequisites = { "tech_fallen_administration" }
}

tech_fallen_assembly_2 = {
	area = engineering
	cost = @ascended_tech_cost
	tier = @ascended_tech_tier
	category = { industry }
	ai_update_type = all
	weight = @tier5weight3

	potential = {
		OR = {
			AND = {
				zofe_sandbox = yes
				is_zofe_country = no
				has_crisis_level = crisis_cosmogenesis_level_4
			}
			AND = {
				is_zofe_country = yes
				automated_industries = yes
				has_technology = tech_automated_industries_1
				has_technology = tech_fallen_technologies_6
			}
		}
	}

	prerequisites = { "tech_fallen_assembly" }
}

tech_fallen_clinic_2 = {
	area = society
	cost = @ascended_tech_cost
	tier = @ascended_tech_tier
	category = { biology }
	ai_update_type = all
	weight = @tier5weight3

	potential = {
		OR = {
			AND = {
				zofe_sandbox = yes
				is_zofe_country = no
				has_crisis_level = crisis_cosmogenesis_level_4
			}
			AND = {
				is_zofe_country = yes
				automated_industries = yes
				has_technology = tech_automated_industries_1
				has_technology = tech_fallen_technologies_6
			}
		}
	}

	prerequisites = { "tech_fallen_clinic" }
}

tech_fallen_market_2 = {
	area = society
	cost = @ascended_tech_cost
	tier = @ascended_tech_tier
	category = { statecraft }
	ai_update_type = all
	weight = @tier5weight3

	potential = {
		OR = {
			AND = {
				zofe_sandbox = yes
				is_zofe_country = no
				has_crisis_level = crisis_cosmogenesis_level_3
			}
			AND = {
				is_zofe_country = yes
				automated_industries = yes
				has_technology = tech_automated_industries_1
				has_technology = tech_fallen_technologies_6
			}
		}
	}

	prerequisites = { "tech_fallen_market" }
}

tech_fallen_security_2 = { 
	area = society
	cost = @ascended_tech_cost
	tier = @ascended_tech_tier
	category = { statecraft }
	ai_update_type = all
	weight = @tier5weight3

	potential = {
		OR = {
			AND = {
				zofe_sandbox = yes
				is_zofe_country = no
				has_crisis_level = crisis_cosmogenesis_level_1
			}
			AND = {
				is_zofe_country = yes
				automated_industries = yes
				has_technology = tech_automated_industries_1
				has_technology = tech_fallen_technologies_6
			}
		}
	}

	prerequisites = { "tech_fallen_security" }
}

tech_fallen_silo_2 = {
	area = physics
	cost = @ascended_tech_cost
	tier = @ascended_tech_tier
	category = { field_manipulation }
	ai_update_type = all
	weight = @tier5weight3

	potential = {
		OR = {
			AND = {
				zofe_sandbox = yes
				is_zofe_country = no
				has_crisis_level = crisis_cosmogenesis_level_1
			}
			AND = {
				is_zofe_country = yes
				automated_industries = yes
				has_technology = tech_automated_industries_1
				has_technology = tech_fallen_technologies_6
			}
		}
	}

	prerequisites = { "tech_fallen_silo" }
}

########################################################
##Societal Ascendance - Gated by fallen_technologies_2
########################################################

tech_ascended_society_1 = {
	area = society
	cost = @ascended_tech_cost
	tier = @ascended_tech_tier
	category = { statecraft }
	
	weight = 40

	potential = {
		is_zofe_country = yes
		societal_ascendance = yes
		OR = {
			is_regular_empire = yes
			is_machine_empire = yes
		}
	}
	
	prerequisites = { "tech_fallen_technologies_2" }

	ai_weight = {
		factor = 20		#More Buildings
	}
}

tech_ascended_society_2 = {
	area = society
	cost = @ascended_tech_cost
	tier = @ascended_tech_tier
	category = { statecraft }
	
	weight = 30
	
	potential = {
		is_zofe_country = yes
		societal_ascendance = yes
		is_fanatic = yes
	}
	
	prerequisites = { "tech_ascended_society_1" }

	ai_weight = {
		factor = 20		#More Buildings
	}
}

tech_arcology_project = {
	area = society
	cost = @fallentechcost
	tier = @fallentechtier
	category = { statecraft }
	is_rare = yes
	weight = 0
	
	potential = {
		is_zofe_country = yes
		societal_ascendance = yes
		host_has_dlc = "Megacorp"
		OR = {
			is_regular_empire = yes
			has_valid_civic = civic_machine_servitor
		}
		NOT = { has_ascension_perk = ap_arcology_project }
	}
	
	prerequisites = { "tech_fallen_technologies_2" }

	ai_weight = {
		factor = 10		#Ascension is good
	}
}

tech_consecrated_worlds = {
	area = society
	cost = @fallentechcost
	tier = @fallentechtier
	category = { statecraft }
	is_rare = yes
	weight = 0
	
	potential = {
		is_zofe_country = yes
		societal_ascendance = yes
		OR = {
			has_ethic = ethic_spiritualist
			has_ethic = ethic_fanatic_spiritualist
		}
		NOT = { has_ascension_perk = ap_consecrated_worlds }
	}
	
	prerequisites = { "tech_fallen_technologies_2" }

	ai_weight = {
		factor = 10		#Ascension is good
	}
}

tech_transcendent_learning = {
	area = society
	cost = @fallentechcost
	tier = @fallentechtier
	category = { statecraft }
	is_rare = yes
	weight = 0
	
	potential = {
		is_zofe_country = yes
		societal_ascendance = yes
		NOT = { has_ascension_perk = ap_transcendent_learning }
	}
	
	prerequisites = { "tech_fallen_technologies_2" }

	modifier = {
		country_leader_cap_add = 2
		country_leader_pool_size = 1
		species_leader_exp_gain = 0.33
	}

	ai_weight = {
		factor = 10		#Ascension is good
	}
}

#Xeno Preserve

tech_fallen_xeno_preserve = {
	cost = @fallentechcost
	area = society
	tier = @fallentechtier
	category = { statecraft }
	prerequisites = { "tech_fallen_technologies_2" }
	weight = @tier1weight1
	
	potential = {
		is_zofe_country = yes
		societal_ascendance = yes
		is_xenophile = yes
	}

	ai_weight = {
		factor = 10
	}
}

#Archeomuseum

tech_archaeo_museum = {
	area = society
	cost = @fallentechcost
	tier = @fallentechtier
	category = { archaeostudies }
	is_rare = yes
	weight = @tier5weight1
	
	potential = {
		is_zofe_country = yes
		societal_ascendance = yes
		host_has_dlc = "Ancient Relics Story Pack"
	}
	
	prerequisites = { "tech_fallen_technologies_2" }
	
	modifier = {
		country_resource_max_minor_artifacts_add = 1000
	}

	ai_weight = {
		factor = 10	
	}
}

#Cryo-Chamber

tech_fallen_ancient_cryo_chamber = {

	area = society
	cost = @ascended_tech_cost
	tier = @ascended_tech_tier
	category = { biology }
	
	weight = 40

	potential = {
		is_zofe_country = yes
		societal_ascendance = yes
	}
	
	prerequisites = { "tech_fallen_technologies_2" }

	ai_weight = {
		factor = 20		#More Buildings
	}
}


########################################################
##A Question of Style - Gated by fallen_technologies_3
########################################################

tech_fallen_escorts = {
	cost = @fallentechcost
	area = engineering
	tier = @fallentechtier
	category = { voidcraft }
	weight = @tier3weight1
	
	potential = {
		is_zofe_country = yes
		question_of_style = yes
	}

	prereqfor_desc = {
		ship = {
			title = "TECH_UNLOCK_FE_ESCORT_CONSTRUCTION_TITLE"
			desc = "TECH_UNLOCK_FE_ESCORT_CONSTRUCTION_DESC"
		}
	}

	modifier = { command_limit_add = 10 }
	
	prerequisites = { "tech_fallen_technologies_3" }
	
	weight_modifier = {	
		modifier = {
			factor = 0
			NOT = { is_zofe_country = yes }
		}
	}
	
	ai_weight = {
		factor = 50		#FE Ships are Goooood
	}
}

# ##################################################
# Escort upgrades - Requires fallen_technologies_6
# ##################################################

tech_fallen_escort_build_speed = {
	cost = @ascended_tech_cost
	area = engineering
	tier = @ascended_tech_tier
	category = { voidcraft }
	prerequisites = { "tech_fallen_escorts" "tech_fallen_technologies_6" }
	weight = @tier2weight2
	
	potential = {
		is_zofe_country = yes
		question_of_style = yes
	}

	modifier = { shipsize_fe_escort_build_speed_mult = 0.25 }

	ai_weight = {
		factor = 5 # ship upgrades are supposed to be good!
	}
}

tech_fallen_escort_hull_1 = {
	cost = @ascended_tech_cost
	area = engineering
	tier = @ascended_tech_tier
	is_rare = yes
	category = { voidcraft }
	prerequisites = { "tech_fallen_escorts" "tech_fallen_technologies_6" }
	weight = @tier2weight3
	
	potential = {
		is_zofe_country = yes
		question_of_style = yes
	}

	modifier = { shipsize_fe_escort_hull_add = 1000 }

	weight_modifier = {
		modifier = {
			factor = 1.25
			has_tradition = tr_supremacy_adopt
		}
	}

	ai_weight = {
		factor = 5 # ship upgrades are supposed to be good!
	}
}

tech_fallen_escort_hull_2 = {
	cost = @ascended_tech_cost
	area = engineering
	tier = @ascended_tech_tier
	is_rare = yes
	category = { voidcraft }
	prerequisites = { "tech_fallen_escort_hull_1" }
	weight = @tier3weight1
	
	potential = {
		is_zofe_country = yes
		question_of_style = yes
	}

	modifier = { shipsize_fe_escort_hull_add = 1000 }

	weight_modifier = {
		modifier = {
			factor = 1.25
			has_tradition = tr_supremacy_adopt
		}
		modifier = {
			factor = @ap_technological_ascendancy_rare_tech
			has_ascension_perk = ap_technological_ascendancy
		}
		modifier = {
			factor = @federation_perk_factor
			has_federation = yes
			federation = {
				has_federation_perk = rare_tech_boost
				any_member = { has_technology = tech_destroyer_hull_2 }
			}
		}
	}

	ai_weight = {
		factor = 5 # ship upgrades are supposed to be good!
	}
}

tech_fallen_battlecruisers = {
	cost = @fallentechcost
	area = engineering
	tier = @fallentechtier
	category = { voidcraft }
	weight = @tier4weight1
	
	potential = {
		is_zofe_country = yes
		question_of_style = yes
	}
	
	prereqfor_desc = {
		ship = {
			title = "TECH_UNLOCK_FE_BATTLECRUISERS_CONSTRUCTION_TITLE"
			desc = "TECH_UNLOCK_FE_BATTLECRUISERS_CONSTRUCTION_DESC"
		}
	}

	modifier = { command_limit_add = 10 }
	
	weight_modifier = {	
		modifier = {
			factor = 0
			NOT = { is_zofe_country = yes }
		}
	}
	
	prerequisites = { "tech_fallen_escorts" }
	
	ai_weight = {
		factor = 50		#FE Ships are Goooood
	}
}

# ########################################################
# Battlecruiser upgrades - Requires fallen_technologies_6
# ########################################################

tech_fallen_battlecruiser_build_speed = {
	cost = @ascended_tech_cost
	area = engineering
	tier = @ascended_tech_tier
	category = { voidcraft }
	prerequisites = { "tech_fallen_battlecruisers" "tech_fallen_technologies_6" }
	weight = @tier4weight2
	
	potential = {
		is_zofe_country = yes
		question_of_style = yes
	}

	modifier = { shipsize_fe_battlecruiser_build_speed_mult = 0.25 }

	ai_weight = {
		factor = 5 # ship upgrades are supposed to be good!
	}
}

tech_fallen_battlecruiser_hull_1 = {
	cost = @ascended_tech_cost
	area = engineering
	tier = @ascended_tech_tier
	is_rare = yes
	category = { voidcraft }
	prerequisites = { "tech_fallen_battlecruisers" "tech_fallen_technologies_6" }
	weight = @tier4weight3
	
	potential = {
		is_zofe_country = yes
		question_of_style = yes
	}

	modifier = { shipsize_fe_battlecruiser_hull_add = 4000 }

	weight_modifier = {
		modifier = {
			factor = 1.25
			has_tradition = tr_supremacy_adopt
		}
	}

	ai_weight = {
		factor = 5 # ship upgrades are supposed to be good!
	}
}

tech_fallen_battlecruiser_hull_2 = {
	cost = @ascended_tech_cost
	area = engineering
	tier = @ascended_tech_tier
	is_rare = yes
	category = { voidcraft }
	prerequisites = { "tech_fallen_battlecruiser_hull_1" }
	weight = @tier5weight1
	
	potential = {
		is_zofe_country = yes
		question_of_style = yes
	}

	modifier = { shipsize_fe_battlecruiser_hull_add = 4000 }

	weight_modifier = {
		modifier = {
			factor = @ap_technological_ascendancy_rare_tech
			has_ascension_perk = ap_technological_ascendancy
		}
		modifier = {
			factor = @federation_perk_factor
			has_federation = yes
			federation = {
				has_federation_perk = rare_tech_boost
				any_member = { has_technology = tech_battleship_hull_2 }
			}
		}
		modifier = {
			factor = 1.25
			has_tradition = tr_supremacy_adopt
		}
	}

	ai_weight = {
		factor = 3 # ship upgrades are supposed to be good!
	}
}

tech_fallen_titans = {
	cost = @fallentechcost
	area = engineering
	tier = @fallentechtier
	category = { voidcraft }
	weight = @tier5weight1
	
	potential = {
		is_zofe_country = yes
		question_of_style = yes
	}
	
	prereqfor_desc = {
		ship = {
			title = "TECH_UNLOCK_FE_TITANS_CONSTRUCTION_TITLE"
			desc = "TECH_UNLOCK_FE_TITANS_CONSTRUCTION_DESC"
		}
	}

	modifier = { command_limit_add = 10 }
	
	prerequisites = { "tech_fallen_battlecruisers" }
	
	weight_modifier = {	
		modifier = {
			factor = 0
			NOT = { is_zofe_country = yes }
		}
	}
	
	ai_weight = {
		factor = 50		#FE Ships are Goooood
	}
}

# ################################################
# Titan upgrades - Requires fallen_technologies_6
# ################################################

tech_fallen_titan_hull_1 = {
	cost = @ascended_tech_cost
	area = engineering
	tier = @ascended_tech_tier
	is_rare = yes
	category = { voidcraft }
	prerequisites = { "tech_fallen_titans" "tech_fallen_technologies_6" }
	weight = @tier5weight2
	
	potential = {
		is_zofe_country = yes
		question_of_style = yes
	}

	modifier = { shipsize_fe_titan_hull_add = 10000 }

	weight_modifier = {
		modifier = {
			factor = @ap_technological_ascendancy_rare_tech
			has_ascension_perk = ap_technological_ascendancy
		}
		modifier = {
			factor = @federation_perk_factor
			has_federation = yes
			federation = {
				has_federation_perk = rare_tech_boost
				any_member = { has_technology = tech_titan_hull_1 }
			}
		}
		modifier = {
			factor = 1.25
			has_tradition = tr_supremacy_adopt
		}
	}

	ai_weight = {
		factor = 5 # ship upgrades are supposed to be good!
	}
}

tech_fallen_titan_hull_2 = {
	cost = @ascended_tech_cost
	area = engineering
	tier = @ascended_tech_tier
	is_rare = yes
	category = { voidcraft }
	prerequisites = { "tech_fallen_titan_hull_1" }
	weight = @tier5weight3
	
	potential = {
		is_zofe_country = yes
		question_of_style = yes
	}
	
	modifier = { shipsize_fe_titan_hull_add = 10000 }

	weight_modifier = {
		modifier = {
			factor = @ap_technological_ascendancy_rare_tech
			has_ascension_perk = ap_technological_ascendancy
		}
		modifier = {
			factor = @federation_perk_factor
			has_federation = yes
			federation = {
				has_federation_perk = rare_tech_boost
				any_member = { has_technology = tech_titan_hull_2 }
			}
		}
		modifier = {
			factor = 1.25
			has_tradition = tr_supremacy_adopt
		}
	}

	ai_weight = {
		factor = 5 # ship upgrades are supposed to be good!
	}
}

# ###################################################
# Colossus upgrades - Requires fallen_technologies_6
# ###################################################

tech_colossus_hull_1 = {
	cost = @fallentechcost
	area = engineering
	tier = @fallentechtier
	is_rare = yes
	category = { voidcraft }
	prerequisites = { "tech_colossus" "tech_fallen_technologies_6" }
	weight = @tier5weight3
	
	potential = {
		is_zofe_country = yes
		question_of_style = yes
	}

	modifier = { shipsize_colossus_hull_add = 100000 }

	weight_modifier = {	
		modifier = {
			factor = 0
			NOT = { is_zofe_country = yes }
		}
	}

	ai_weight = {
		factor = 5 # ship upgrades are supposed to be good!
	}
}

tech_fallen_goliath = {
	cost = 100000
	area = engineering
	tier = 7
	category = { voidcraft }
	weight = 0
	is_rare = yes
	
	potential = {
		is_zofe_country = yes
		question_of_style = yes
	}
	
	weight_modifier = {	
		modifier = {
			factor = 0
			NOT = { is_zofe_country = yes }
		}
	}
	
	prereqfor_desc = {
		ship = {
			title = "TECH_UNLOCK_FE_GOLIATH_CONSTRUCTION_TITLE"
			desc = "TECH_UNLOCK_FE_GOLIATH_CONSTRUCTION_DESC"
		}
	}

	modifier = { command_limit_add = 10 }
	
	prerequisites = { "tech_fallen_titans" }
	
	ai_weight = {
		factor = 50		#FE Ships are Goooood
	}
}

tech_fallen_goliath_hull_1 = {
	cost = 100000
	area = engineering
	tier = 7
	is_rare = yes
	category = { voidcraft }
	prerequisites = { "tech_fallen_goliath" "tech_fallen_technologies_6" }
	weight = @tier5weight3
	
	potential = {
		is_zofe_country = yes
		question_of_style = yes
	}

	modifier = { shipsize_fe_goliath_hull_add = 40000 }

	weight_modifier = {
		modifier = {
			factor = @ap_technological_ascendancy_rare_tech
			has_ascension_perk = ap_technological_ascendancy
		}
		modifier = {
			factor = @federation_perk_factor
			has_federation = yes
			federation = {
				has_federation_perk = rare_tech_boost
				any_member = { has_technology = tech_titan_hull_2 }
			}
		}
		modifier = {
			factor = 1.25
			has_tradition = tr_supremacy_adopt
		}
	}

	ai_weight = {
		factor = 5 # ship upgrades are supposed to be good!
	}
}

tech_fallen_goliath_hull_2 = {
	cost = 100000
	area = engineering
	tier = 7
	is_rare = yes
	category = { voidcraft }
	prerequisites = { "tech_fallen_goliath_hull_1" }
	weight = @tier5weight3
	
	potential = {
		is_zofe_country = yes
		question_of_style = yes
	}

	modifier = { shipsize_fe_goliath_hull_add = 40000 }

	weight_modifier = {
		modifier = {
			factor = @ap_technological_ascendancy_rare_tech
			has_ascension_perk = ap_technological_ascendancy
		}
		modifier = {
			factor = @federation_perk_factor
			has_federation = yes
			federation = {
				has_federation_perk = rare_tech_boost
				any_member = { has_technology = tech_titan_hull_2 }
			}
		}
		modifier = {
			factor = 1.25
			has_tradition = tr_supremacy_adopt
		}
	}

	ai_weight = {
		factor = 5 # ship upgrades are supposed to be good!
	}
}

tech_fallen_defense_platforms_1 = {
	cost = @fallentechcost
	area = engineering
	tier = @fallentechtier
	category = { voidcraft }
	weight = @tier3weight2
	
	potential = {
		is_zofe_country = yes
		question_of_style = yes
	}
	
	prereqfor_desc = {
		ship = {
			title = "TECH_UNLOCK_FE_SMALL_STATION_CONSTRUCTION_TITLE"
			desc = "TECH_UNLOCK_FE_SMALL_STATION_CONSTRUCTION_DESC"
		}
	}

	modifier = {
		shipclass_military_station_damage_mult = 0.5
		shipclass_military_station_hull_mult = 0.5
	}
	
	prerequisites = { "tech_fallen_escorts" }
	
	ai_weight = {
		factor = 50		#FE Ships are Goooood
	}
}

tech_fallen_defense_platforms_2 = {
	cost = @fallentechcost
	area = engineering
	tier = @fallentechtier
	category = { voidcraft }
	weight = @tier4weight2
	
	potential = {
		is_zofe_country = yes
		question_of_style = yes
	}
	
	prereqfor_desc = {
		ship = {
			title = "TECH_UNLOCK_FE_LARGE_STATION_CONSTRUCTION_TITLE"
			desc = "TECH_UNLOCK_FE_LARGE_STATION_CONSTRUCTION_DESC"
		}
	}

	modifier = {
		shipclass_military_station_damage_mult = 0.5
		shipclass_military_station_hull_mult = 0.5
	}
	
	prerequisites = { "tech_fallen_battlecruisers" }
	
	ai_weight = {
		factor = 50		#FE Ships are Goooood
	}
}

########################################################
##Masters of Warfare - Gated by fallen_technologies_4
########################################################

tech_dark_matter_blast = {
	area = physics
	cost = @ascended_tech_cost
	tier = @ascended_tech_tier
	category = { particles }
	ai_update_type = military
	is_rare = yes
	
	potential = {
		is_zofe_country = yes
		masters_of_warfare = yes
	}
	
	prerequisites = { "tech_fallen_technologies_4" "tech_fallen_titans" }
	
	weight = @tier5weight1
	
	ai_weight = {
		factor = 20		#weapons are good
	}
}


tech_dark_matter_lance = {
	area = physics
	cost = @ascended_tech_cost
	tier = @ascended_tech_tier
	category = { particles }
	ai_update_type = military
	is_rare = yes
	
	potential = {
		is_zofe_country = yes
		masters_of_warfare = yes
	}
	
	prerequisites = { "tech_fallen_technologies_4" "tech_energy_lance_2" }
	
	weight = @tier5weight1
	
	ai_weight = {
		factor = 20		#weapons are good
	}
}

tech_dark_matter_emitter = {
	area = physics
	cost = @ascended_tech_cost
	tier = @ascended_tech_tier
	category = { particles }
	ai_update_type = military
	is_rare = yes
	
	potential = {
		is_zofe_country = yes
		masters_of_warfare = yes
	}
	
	prerequisites = { "tech_fallen_technologies_4" "tech_arc_emitter_2" }
	
	weight = @tier5weight1
	
	ai_weight = {
		factor = 20		#weapons are good
	}
}

tech_tera_cannon = {
	area = engineering
	cost = @ascended_tech_cost
	tier = @ascended_tech_tier
	category = { propulsion }
	ai_update_type = military
	is_rare = yes
	
	potential = {
		is_zofe_country = yes
		masters_of_warfare = yes
	}
	
	prerequisites = { "tech_fallen_technologies_4" "tech_mass_accelerator_2" }
	
	weight = @tier5weight1
	
	ai_weight = {
		factor = 20		#weapons are good
	}
}

tech_dark_cannon = {
	area = engineering
	cost = @ascended_tech_cost
	tier = @ascended_tech_tier
	category = { propulsion }
	ai_update_type = military
	is_rare = yes
	
	potential = {
		is_zofe_country = yes
		masters_of_warfare = yes
	}
	
	prerequisites = { "tech_fallen_technologies_4" "tech_mass_drivers_5" }
	
	weight = @tier5weight1
	
	ai_weight = {
		factor = 20		#weapons are good
	}
}

tech_dark_laser = {
	area = physics
	cost = @ascended_tech_cost
	tier = @ascended_tech_tier
	category = { particles }
	ai_update_type = military
	is_rare = yes
	
	potential = {
		is_zofe_country = yes
		masters_of_warfare = yes
	}
	
	prerequisites = { "tech_fallen_technologies_4" "tech_lasers_5" }
	
	weight = @tier5weight1
	
	ai_weight = {
		factor = 20		#weapons are good
	}
}

# Marauder Missiles
tech_sentinel_missile = {
	area = engineering
	cost = @ascended_tech_cost
	tier = @ascended_tech_tier
	category = { propulsion }
	ai_update_type = military
	is_rare = yes
	
	potential = {
		is_zofe_country = yes
		masters_of_warfare = yes
	}
	
	prerequisites = { "tech_fallen_technologies_4" "tech_missiles_5" }
	
	weight = @tier5weight1

	ai_weight = {
		factor = 20		#weapons are good
	}
}

#Terminator Torpedoes
tech_terminator_torpedo = {
	area = engineering
	cost = @ascended_tech_cost
	tier = @ascended_tech_tier
	category = { propulsion }
	ai_update_type = military
	is_rare = yes
	
	potential = {
		is_zofe_country = yes
		masters_of_warfare = yes
	}
	
	prerequisites = { "tech_fallen_technologies_4" "tech_torpedoes_3" }
	
	weight = @tier4weight2

	ai_weight = {
		factor = 20		#weapons are good
	}	
}

tech_dark_matter_torpedo = {
	area = physics
	cost = @ascended_tech_cost
	tier = @ascended_tech_tier
	category = { particles }
	ai_update_type = military
	is_rare = yes
	
	potential = {
		is_zofe_country = yes
		masters_of_warfare = yes
	}
	
	prerequisites = { "tech_fallen_technologies_4" "tech_energy_torpedoes_2" }
	
	weight = @tier4weight2
	
	ai_weight = {
		factor = 20		#weapons are good
	}	
}

tech_aegis_point_defence = {
	area = physics
	cost = @ascended_tech_cost
	tier = @ascended_tech_tier
	category = { computing }
	ai_update_type = military
	is_rare = yes
	prerequisites = { "tech_fallen_technologies_4" "tech_pd_tracking_3" }
	weight = @tier4weight1
	
	potential = {
		is_zofe_country = yes
		masters_of_warfare = yes
	}

	ai_weight = {
		factor = 20		#weapons are good
	}	
}

tech_dark_matter_flak_battery = {
	area = engineering
	cost = @ascended_tech_cost
	tier = @ascended_tech_tier
	category = { propulsion }
	ai_update_type = military
	prerequisites = { "tech_fallen_technologies_4" "tech_flak_batteries_3" }
	weight = @tier4weight1
	is_rare = yes
	
	potential = {
		is_zofe_country = yes
		masters_of_warfare = yes
	}

	ai_weight = {
		factor = 20		#weapons are good
	}	
}

tech_darkfire_autocannon = {
	area = engineering
	cost = @ascended_tech_cost
	tier = @ascended_tech_tier
	category = { propulsion }
	ai_update_type = military
	prerequisites = { "tech_fallen_technologies_4" "tech_autocannons_3" }
	weight = @tier4weight1
	is_rare = yes
	
	potential = {
		is_zofe_country = yes
		masters_of_warfare = yes
	}

	ai_weight = {
		factor = 20		#weapons are good
	}	
}

tech_dark_matter_launcher = {
	area = physics
	cost = @ascended_tech_cost
	tier = @ascended_tech_tier
	category = { particles }
	ai_update_type = military
	prerequisites = { "tech_fallen_technologies_4" "tech_plasma_3" }
	weight = @tier4weight1
	is_rare = yes
	
	potential = {
		is_zofe_country = yes
		masters_of_warfare = yes
	}

	ai_weight = {
		factor = 20		#weapons are good
	}	
}

tech_dark_matter_disruptor = {
	area = physics
	cost = @ascended_tech_cost
	tier = @ascended_tech_tier
	category = { particles }
	ai_update_type = military
	prerequisites = { "tech_fallen_technologies_4" "tech_disruptors_3" }
	weight = @tier4weight1
	is_rare = yes
	
	potential = {
		is_zofe_country = yes
		masters_of_warfare = yes
	}

	ai_weight = {
		factor = 20		#weapons are good
	}	
}


########################################################
##Ambitions of Power - Gated by fallen_technologies_5
########################################################

tech_galactic_ambitions_1 = {

	area = society
	cost = @ascended_tech_cost
	tier = @ascended_tech_tier
	category = { statecraft }
	
	weight = 40
	
	potential = {
		is_zofe_country = yes
		ambitions_of_power = yes
	}
	
	prerequisites = { "tech_fallen_technologies_5" }

	ai_weight = {
		factor = 20		#Ambitions are supposed to be good
	}
}

tech_galactic_ambitions_2 = {

	area = society
	cost = @ascended_tech_cost
	tier = @ascended_tech_tier
	category = { statecraft }
	
	weight = 30
	
	potential = {
		is_zofe_country = yes
		ambitions_of_power = yes
	}
	
	prerequisites = { "tech_galactic_ambitions_1" }

	ai_weight = {
		factor = 20		#Ambitions are supposed to be good
	}
}

# ###################################################
# Additional Ambitions - Requires Sandbox Mode
# ###################################################

tech_galactic_ambitions_3 = {

	area = society
	cost = @ascended_tech_cost
	tier = @ascended_tech_tier
	category = { statecraft }
	
	weight = 30
	
	potential = {
		zofe_sandbox = yes
		is_zofe_country = yes
		ambitions_of_power = yes
	}
	
	prerequisites = { "tech_galactic_ambitions_2" }

	ai_weight = {
		factor = 20		#Ambitions are supposed to be good
	}
}

tech_galactic_ambitions_4 = {

	area = society
	cost = @ascended_tech_cost
	tier = @ascended_tech_tier
	category = { statecraft }
	
	weight = 30
	
	potential = {
		zofe_sandbox = yes
		is_zofe_country = yes
		ambitions_of_power = yes
	}
	
	prerequisites = { "tech_galactic_ambitions_3" }

	ai_weight = {
		factor = 20		#Ambitions are supposed to be good
	}
}

tech_galactic_ambitions_5 = {

	area = society
	cost = @ascended_tech_cost
	tier = @ascended_tech_tier
	category = { statecraft }
	
	weight = 30
	
	potential = {
		zofe_sandbox = yes
		is_zofe_country = yes
		ambitions_of_power = yes
	}
	
	feature_flags = {
		unlock_ascendancy_affairs
	}
	
	prerequisites = { "tech_galactic_ambitions_4" }

	ai_weight = {
		factor = 20		#Ambitions are supposed to be good
	}
}

##########################################################
##Engineering Perfection - Gated by fallen_technologies_6
##########################################################

tech_gaia_world_creation = {
	area = society
	cost = @fallentechcost
	tier = @fallentechtier
	category = { new_worlds }
	is_rare = yes
	
	weight = 0
	
	potential = {
		is_zofe_country = yes
		engineering_perfection = yes		
		NOT = { has_ascension_perk = ap_world_shaper }
		is_hive_empire = no
		OR = {
			is_machine_empire = no
			has_valid_civic = civic_machine_servitor
			has_valid_civic = civic_machine_assimilator
		}
	}
	
	prerequisites = { "tech_fallen_technologies_6" }
	
	modifier = {
		custom_tooltip = "allow_gaia"
		terraform_speed_mult = 0.25
	}
	
	ai_weight = {
		factor = 10		#Ascension is good
	}
}

tech_hive_world_creation = {
	area = society
	cost = @fallentechcost
	tier = @fallentechtier
	category = { new_worlds }
	is_rare = yes
	
	weight = 0
	
	potential = {
		is_zofe_country = yes
		engineering_perfection = yes
		host_has_dlc = "Utopia"
		is_hive_empire = yes
		NOT = { has_ascension_perk = ap_hive_worlds }
		NOT = { # Lithoid devouring swarms consume worlds and cannot improve them (since they never get terraforming tech)
			AND = {
				is_lithoid_empire = yes
				has_valid_civic = civic_hive_devouring_swarm
			}
		}
	}
	
	prerequisites = { "tech_fallen_technologies_6" }
	
	modifier = {
		custom_tooltip = "allow_hive_worlds"
		custom_tooltip = "describe_hive_worlds"
		terraform_speed_mult = 0.25
	}
	
	ai_weight = {
		factor = 10		#Ascension is good
	}
}

tech_machine_world_creation = {
	area = society
	cost = @fallentechcost
	tier = @fallentechtier
	category = { new_worlds }
	weight = 0
	is_rare = yes
	
	potential = {
		is_zofe_country = yes
		engineering_perfection = yes
		host_has_dlc = "Synthetic Dawn Story Pack"
		OR = {
			is_machine_empire = yes
#			has_ascension_perk = ap_synthetic_evolution
		}
		NOT = { has_ascension_perk = ap_machine_worlds }
	}
	
	prerequisites = { "tech_fallen_technologies_6" }
	
	modifier = {
		custom_tooltip = "allow_machine_worlds"
		custom_tooltip = "describe_machine_worlds"
		terraform_speed_mult = 0.25
	}
	
	ai_weight = {
		factor = 10		#Ascension is good
	}
}

tech_mastery_of_nature = {
	area = society
	cost = @fallentechcost
	tier = @fallentechtier
	category = { new_worlds }
	weight = 0
	is_rare = yes
	
	potential = {
		is_zofe_country = yes
		engineering_perfection = yes
		NOT = { has_ascension_perk = ap_mastery_of_nature }
		is_environmental_architect = no
	}
	
	prerequisites = { "tech_fallen_technologies_6" }
	
	modifier = {
		custom_tooltip = "allow_decision_mastery_of_nature"
		custom_tooltip = "describe_decision_mastery_of_nature"
		deposit_blockers_cost_mult = -0.33
	}
	
	ai_weight = {
		factor = 10		#Ascension is good
	}
}

# ###################################################
# Weapon upgrades - Requires fallen_technologies_4
# ###################################################

tech_repeatable_dm_tech_weapon_upgrade = {
	area = physics
	cost = @ascended_tech_cost
	cost_per_level = 7500
	tier = @ascended_tech_tier
	category = { particles }
	ai_update_type = military
	levels = 20
	weight = @repeatableTechWeight
	is_rare = yes

	potential = {
		is_zofe_country = yes
		masters_of_warfare = yes
		engineering_perfection = yes
	}

	prerequisites = { "tech_fallen_technologies_4" "tech_fallen_technologies_6" }

	weight_modifier = {
		factor = @repatableTechFactor
	}

	weight_groups = {
		repeatable
	}
	mod_weight_if_group_picked = {
		repeatable = 0.01
	}

	modifier = {
		weapon_dm_tech_weapon_damage_mult = 0.05
		weapon_dm_tech_weapon_fire_rate_mult = 0.05
	}
}

#tech_dm_tech_weapon_damage_1 = {
#	area = physics
#	cost = 100000
#	tier = @ascended_tech_tier
#	category = { particles }
#	ai_update_type = physics
#	is_rare = yes
#	
#	potential = {
#		is_zofe_country = yes
#		masters_of_warfare = yes
#		engineering_perfection = yes
#	}
#	
#	modifier = { weapon_dm_tech_weapon_damage_mult = 0.10 }
#	
#	prerequisites = { "tech_fallen_technologies_4" "tech_fallen_technologies_6" }
#	
#	weight = @tier5weight3
#	
#	ai_weight = {
#		factor = 20		#weapons are good
#	}
#}

#tech_dm_tech_weapon_damage_2 = {
#	area = physics
#	cost = 100000
#	tier = @ascended_tech_tier
#	category = { particles }
#	ai_update_type = physics
#	is_rare = yes
#	
#	potential = {
#		is_zofe_country = yes
#		masters_of_warfare = yes
#		engineering_perfection = yes
#	}
#	
#	modifier = { weapon_dm_tech_weapon_damage_mult = 0.10 }
#	
#	prerequisites = { "tech_dm_tech_weapon_damage_1" }
#	
#	weight = @tier5weight3
#	
#	ai_weight = {
#		factor = 20		#weapons are good
#	}
#}

#tech_dm_tech_weapon_damage_3 = {
#	area = physics
#	cost = 100000
#	tier = @ascended_tech_tier
#	category = { particles }
#	ai_update_type = physics
#	is_rare = yes
#	
#	potential = {
#		is_zofe_country = yes
#		masters_of_warfare = yes
#		engineering_perfection = yes
#	}
#	
#	modifier = { weapon_dm_tech_weapon_damage_mult = 0.10 }
#	
#	prerequisites = { "tech_dm_tech_weapon_damage_2" }
#	
#	weight = @tier5weight3
#	
#	ai_weight = {
#		factor = 20		#weapons are good
#	}
#}

tech_repeatable_lost_tech_weapon_upgrade = {
	area = society
	cost = 100000
	cost_per_level = 10000
	tier = 7
	category = { archaeostudies }
	ai_update_type = military
	levels = 20
	prerequisites = { "tech_fallen_technologies_4" "tech_fallen_technologies_6" }
	weight = @repeatableTechWeight
	is_rare = yes

	potential = {
		is_zofe_country = yes
		masters_of_warfare = yes
		engineering_perfection = yes
		has_a_lost_tech_component = yes
	}

	weight_modifier = {
		factor = @repatableTechFactor
	}

	weight_groups = {
		repeatable
	}
	mod_weight_if_group_picked = {
		repeatable = 0.01
	}

	modifier = {
		weapon_lost_tech_weapon_damage_mult = 0.05
		weapon_lost_tech_weapon_fire_rate_mult = 0.05
	}
}

#tech_lost_tech_weapon_damage_1 = {
#	area = society
#	cost = 200000
#	tier = 7
#	category = { archaeostudies }
#	ai_update_type = military
#	is_rare = yes
#	
#	potential = {
#		is_zofe_country = yes
#		masters_of_warfare = yes
#		engineering_perfection = yes
#	}
#	
#	modifier = { weapon_lost_tech_weapon_damage_mult = 0.15 }
#	
#	prerequisites = { "tech_dm_tech_weapon_damage_3" }
#	
#	weight = @tier5weight3
#	
#	ai_weight = {
#		factor = 20		#weapons are good
#	}
#}

#tech_lost_tech_weapon_damage_2 = {
#	area = society
#	cost = 200000
#	tier = 7
#	category = { archaeostudies }
#	ai_update_type = military
#	is_rare = yes
#	
#	potential = {
#		is_zofe_country = yes
#		masters_of_warfare = yes
#		engineering_perfection = yes
#	}
#	
#	modifier = { weapon_lost_tech_weapon_damage_mult = 0.15 }
#	
#	prerequisites = { "tech_lost_tech_weapon_damage_1" }
#	
#	weight = @tier5weight3
#	
#	ai_weight = {
#		factor = 20		#weapons are good
#	}
#}

#tech_lost_tech_weapon_damage_3 = {
#	area = society
#	cost = 200000
#	tier = 7
#	category = { archaeostudies }
#	ai_update_type = military
#	is_rare = yes
#	
#	potential = {
#		is_zofe_country = yes
#		masters_of_warfare = yes
#		engineering_perfection = yes
#	}
#	
#	modifier = { weapon_lost_tech_weapon_damage_mult = 0.15 }
#	
#	prerequisites = { "tech_lost_tech_weapon_damage_2" }
#	
#	weight = @tier5weight3
#	
#	ai_weight = {
#		factor = 20		#weapons are good
#	}
#}

#tech_lost_tech_weapon_damage_4 = {
#	area = society
#	cost = 200000
#	tier = 7
#	category = { archaeostudies }
#	ai_update_type = military
#	is_rare = yes
#	
#	potential = {
#		is_zofe_country = yes
#		masters_of_warfare = yes
#		engineering_perfection = yes
#	}
#	
#	modifier = { weapon_lost_tech_weapon_damage_mult = 0.15 }
#	
#	prerequisites = { "tech_lost_tech_weapon_damage_3" }
#	
#	weight = @tier5weight3
#	
#	ai_weight = {
#		factor = 20		#weapons are good
#	}
#}

#tech_lost_tech_weapon_damage_5 = {
#	area = society
#	cost = 200000
#	tier = 7
#	category = { archaeostudies }
#	ai_update_type = military
#	is_rare = yes
#	
#	potential = {
#		is_zofe_country = yes
#		masters_of_warfare = yes
#		engineering_perfection = yes
#	}
#	
#	modifier = { weapon_lost_tech_weapon_damage_mult = 0.15 }
#	
#	prerequisites = { "tech_lost_tech_weapon_damage_4" }
#	
#	weight = @tier5weight3
#	
#	ai_weight = {
#		factor = 20		#weapons are good
#	}
#}